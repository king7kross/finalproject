<h2 class="page-title">Admin - Products</h2>

<div class="topbar">
  <div class="topbar-left">
    <a class="btn btn-primary" routerLink="/admin/add">+ Add Product</a>
  </div>

  <div class="topbar-right">
    <a class="btn btn-ghost" routerLink="/admin/analytics">View Analytics</a>
  </div>
</div>

<section *ngIf="loading" class="state">Loading...</section>
<section *ngIf="!loading && list?.items?.length === 0" class="state muted">No products.</section>

<div *ngIf="!loading && list?.items?.length" class="table-card">
  <table class="products-table">
    <thead>
      <tr class="header-row">
        <th>Name</th>
        <th>Category</th>
        <th class="right">Price</th>
        <th class="right">Qty</th>
        <th class="right">Action</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let p of list!.items" class="data-row">
        <td class="name-cell">{{ p.name }}</td>
        <td>
          <span class="chip">{{ p.category }}</span>
        </td>
        <td class="right">{{ p.price | currency:'INR':'symbol' }}</td>
        <td class="right">{{ p.availableQuantity }}</td>
        <td class="action-cell right">
          <a class="link" [routerLink]="['/admin/edit', p.id]">Edit</a>
          <span class="sep">|</span>
          <a class="link danger" href="" (click)="onDelete(p.id); $event.preventDefault();">Delete</a>
        </td>
      </tr>
    </tbody>
  </table>
</div>
